(()=>{"use strict";function t(t,e){const o=Math.ceil(Math.min(Math.abs(t),Math.abs(e))),n=Math.floor(Math.max(Math.abs(t),Math.abs(e))),r=Math.random()*(n-o+1)+o;return Math.floor(r)}function e(t,e,o=1){const n=Math.min(Math.abs(t),Math.abs(e)),r=Math.max(Math.abs(t),Math.abs(e));return(Math.random()*(r-n)+n).toFixed(o)}function o(e){return e[t(0,e.length-1)]}function n(e){const o=e.length-1;return e.slice(t(0,o))}const r=["palace","flat","house","bungalow","hotel"],s=["12:00","13:00","14:00"],c=["wifi","dishwasher","parking","washer","elevator","conditioner"],a=["https://assets.htmlacademy.ru/content/intensive/javascript-1/keksobooking/duonguyen-8LrGtIxxa4w.jpg","https://assets.htmlacademy.ru/content/intensive/javascript-1/keksobooking/brandon-hoogenboom-SNxQGWxZQi0.jpg","https://assets.htmlacademy.ru/content/intensive/javascript-1/keksobooking/claire-rendall-b6kAwr1i0Iw.jpg"],u=document.querySelector("#card").content.querySelector(".popup").cloneNode(!0);function i(t,e){return t>=5?e[2]:1===t?e[0]:e[1]}function p(t,e){return"rooms"===t?i(e,["комната","комнаты","комнат"]):"guests"===t?i(e,["гостя","гостей","гостей"]):void 0}const l=Array.from({length:10},(()=>function(){const u={x:e(35.65,35.7,5),y:e(139.7,139.8,5)};return{AUTHOR:{avatar:`img/avatars/user0${t(1,8)}.png`},OFFER:{title:"строка — заголовок",address:{location:u},price:t(1e3,1e6),type:o(r),rooms:t(1,8),guests:t(1,8),checkin:o(s),checkout:o(s),features:n(c),description:"строка — описание",photos:n(a)}}}()));function h(t){const e=t.OFFER,o=t.AUTHOR;return function(t){const e=u.querySelector(".popup__title");t.title?e.textContent=t.title:e.remove()}(e),function(t){const e=u.querySelector(".popup__text--address");t.address.location.x&&t.address.location.y?e.textContent=`${t.address.location.x}, ${t.address.location.y}`:e.remove()}(e),function(t){const e=u.querySelector(".popup__text--price");t.price?e.textContent=`${t.price} ₽/ночь`:e.remove()}(e),function(t){const e=u.querySelector(".popup__type");t.type?e.textContent=function(t){switch(t){case"flat":return"Квартира";case"bungalow":return"Бунгало";case"house":return"Дом";case"palace":return"Дворец";case"hotel":return"Отель"}}(t.type):e.remove()}(e),function(t){const e=u.querySelector(".popup__text--capacity");t.rooms&&t.guests||e.remove(),e.textContent=`${t.rooms} ${p("rooms",t.rooms)} для ${t.guests} ${p("guests",t.guests)}`}(e),function(t){const e=u.querySelector(".popup__text--time");t.checkin&&t.checkout?e.textContent=`Заезд после ${t.checkin}, выезд до ${t.checkout}`:e.remove()}(e),function(t){const e=u.querySelectorAll(".popup__feature"),o=u.querySelectorAll(".popup__features");if(!t.features)return void o.remove();const n=t.features.map((t=>`popup__feature--${t}`));e.forEach((t=>{const e=t.classList[1];n.includes(e)||t.remove()}))}(e),function(t){const e=u.querySelector(".popup__description");t.description?e.textContent=t.description:e.remove()}(e),function(t){const e=u.querySelector(".popup__photos"),o=e.querySelector(".popup__photo"),n=[];if(t.photos){for(let e=0;e<t.photos.length;e++)n.push(o.cloneNode(!0));o.remove(),n.forEach(((o,n)=>{o.setAttribute("src",t.photos[n]),e.appendChild(o)}))}else e.remove()}(e),function(t){const e=u.querySelector(".popup__avatar");t.avatar?e.setAttribute("src",t.avatar):e.remove()}(o),u}!function(t){for(let e=0;e<l.length;e++)t.appendChild(h(l[e]).cloneNode(!0))}(document.querySelector("#map-canvas"))})();