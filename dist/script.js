(()=>{"use strict";function t(t,e){const o=Math.ceil(Math.min(Math.abs(t),Math.abs(e))),r=Math.floor(Math.max(Math.abs(t),Math.abs(e))),n=Math.random()*(r-o+1)+o;return Math.floor(n)}function e(t,e,o=1){const r=Math.min(Math.abs(t),Math.abs(e)),n=Math.max(Math.abs(t),Math.abs(e));return(Math.random()*(n-r)+r).toFixed(o)}function o(e){return e[t(0,e.length-1)]}function r(e){const o=e.length-1;return e.slice(t(0,o))}const n=["palace","flat","house","bungalow","hotel"],s=["12:00","13:00","14:00"],c=["wifi","dishwasher","parking","washer","elevator","conditioner"],a=["https://assets.htmlacademy.ru/content/intensive/javascript-1/keksobooking/duonguyen-8LrGtIxxa4w.jpg","https://assets.htmlacademy.ru/content/intensive/javascript-1/keksobooking/brandon-hoogenboom-SNxQGWxZQi0.jpg","https://assets.htmlacademy.ru/content/intensive/javascript-1/keksobooking/claire-rendall-b6kAwr1i0Iw.jpg"];function u(t,e){return t>=5?e[2]:1===t?e[0]:e[1]}function i(t,e){return"rooms"===t?u(e,["комната","комнаты","комнат"]):"guests"===t?u(e,["гостя","гостей","гостей"]):void 0}const p=document.querySelector(".ad-form"),l=document.querySelector(".map__filters");function d(t){const e=t.classList[0];t.classList.add(`${e}--disabled`),t.querySelectorAll("fieldset").forEach((t=>{t.setAttribute("disabled","disabled")})),t.querySelectorAll("select").forEach((t=>{t.setAttribute("disabled","disabled")}))}document.querySelector("#map-canvas").appendChild(function(t){const e=t.OFFER,o=t.AUTHOR,r=document.querySelector("#card").content.querySelector(".popup").cloneNode(!0);return function(t,e){const o=e.querySelector(".popup__title");t.title?o.textContent=t.title:o.remove()}(e,r),function(t,e){const o=e.querySelector(".popup__text--address");t.address.location.x&&t.address.location.y?o.textContent=`${t.address.location.x}, ${t.address.location.y}`:o.remove()}(e,r),function(t,e){const o=e.querySelector(".popup__text--price");t.price?o.textContent=`${t.price} ₽/ночь`:o.remove()}(e,r),function(t,e){const o=e.querySelector(".popup__type");t.type?o.textContent=function(t){switch(t){case"flat":return"Квартира";case"bungalow":return"Бунгало";case"house":return"Дом";case"palace":return"Дворец";case"hotel":return"Отель"}}(t.type):o.remove()}(e,r),function(t,e){const o=e.querySelector(".popup__text--capacity");t.rooms&&t.guests||o.remove(),o.textContent=`${t.rooms} ${i("rooms",t.rooms)} для ${t.guests} ${i("guests",t.guests)}`}(e,r),function(t,e){const o=e.querySelector(".popup__text--time");t.checkin&&t.checkout?o.textContent=`Заезд после ${t.checkin}, выезд до ${t.checkout}`:o.remove()}(e,r),function(t,e){const o=e.querySelectorAll(".popup__feature"),r=e.querySelectorAll(".popup__features");if(!t.features)return void r.remove();const n=t.features.map((t=>`popup__feature--${t}`));o.forEach((t=>{const e=t.classList[1];n.includes(e)||t.remove()}))}(e,r),function(t,e){const o=e.querySelector(".popup__description");t.description?o.textContent=t.description:o.remove()}(e,r),function(t,e){const o=e.querySelector(".popup__photos"),r=o.querySelector(".popup__photo"),n=[];if(t.photos){for(let e=0;e<t.photos.length;e++)n.push(r.cloneNode(!0));r.remove(),n.forEach(((e,r)=>{e.setAttribute("src",t.photos[r]),o.appendChild(e)}))}else o.remove()}(e,r),function(t,e){const o=e.querySelector(".popup__avatar");t.avatar?o.setAttribute("src",t.avatar):o.remove()}(o,r),r}(Array.from({length:1},(()=>function(){const u={x:e(35.65,35.7,5),y:e(139.7,139.8,5)};return{AUTHOR:{avatar:`img/avatars/user0${t(1,8)}.png`},OFFER:{title:"строка — заголовок",address:{location:u},price:t(1e3,1e6),type:o(n),rooms:t(1,8),guests:t(1,8),checkin:o(s),checkout:o(s),features:r(c),description:"строка — описание",photos:r(a)}}}()))[0])),d(p),d(l)})();